---
toc_depth: 2
---

<br>

# Output file reference

This page provides a comprehensive reference for all output files generated by the G4X platform. It describes the contents of each directory and file type. Special notes are included for files specific to multiomics runs. The documentation also highlights file compatibility with the G4X-viewer and provides detailed column descriptions for key tables.

## root directory
---
### `summary_{sample_id}.html`
> HTML file which gives a high level overview of the experiment outputs, data quality, and performance for the specific sample.

### `run_meta.json`
> JSON file containing global run information, such as software version, instrument ID, and platform details. It also includes the source files used for the transcript and protein panels.

### `samplesheet.csv` 
> CSV file containing detailed run information, including operator, experimental design, run parameters, flow cell layout, tissue type, and panels used. Also specifies the position of each tissue section on the flow cell.

### `transcript_panel.csv`
> CSV file containing a full list of all probes used to demultiplex the detected features in the data.

### `protein_panel.csv` [<span class="acc-2-text">:material-layers-outline:</span>](#foot-notes "multiomics runs only")
> CSV file containing a full list of all targeted proteins in this experiment and the panel type (standard, addon).

<br>

## g4x_viewer
---
The files in this directory are [G4X-viewer](https://g4x-viewer.vercel.app/) compatible representations of the dataset. They contain much of the same information as found in the raw data outputs, but with reduced fidelity to optimize performance for interactive viewing. These files are not intended for quantitative analysis and should be used only for visual exploration with the G4X-viewer. Please refer to the [G4X-viewer documentation](https://docs.singulargenomics.com/G4X-viewer/) for more information.

### `{sample_id}_segmentation.bin`
*Viewer input field:* UPLOAD SEGMENTATION FILE

> Binary file containing cell segmentation polygons and other cell metadata. This file can be updated with new metadata using the [`update_bin`](https://docs.singulargenomics.com/G4X-helpers/features/update_bin/) function of G4X-helpers.

### `{sample_id}_run_metadata.json`
*Viewer input field:* UPLOAD METADATA

> JSON file containing much of the same information as the `run_meta.json` along with core metrics for the specific block (e.g. `total_tissue_area_mm^2`, `median_transcripts_per_cell`). File names match the sample ID (for example: `A01_run_metadata.json`).

### `{sample_id}_transcripts.tar`
*Viewer input field:* UPLOAD TRANSCRIPT FILE

> Tarball containing the viewer-ready transcript locations and metadata (gene names & colors). Load this into the G4X-viewer under "Upload Transcript File".

### `{sample_id}_multiplex.ome.tiff` [<span class="acc-2-text">:material-layers-outline:</span>]("multiomics runs only")
*Viewer input field:* UPLOAD IMAGE FILE

> Multi-channel OME-tiff file containing aggregated images for all protein targets as well as nuclear and cytoplasmic stains.  
__Note:__ On windows, this may appear as `{sample_id}_multiplex.ome`.

### `{sample_id}_HE.ome.tiff`
*Viewer input field:* ADD FH&E IMAGE (Brightfield Settings)

> Single-channel RGB OME-tiff file containing the fH&E image. This file should be loaded in the "Brightfield Images Settings" in the G4X-viewer.   

### `{sample_id}_nuclear.ome.tiff`
*Viewer input field:* UPLOAD IMAGE FILE

> Multi-channel OME-tiff file containing aggregated images for the nuclear and cytoplasmic stains. In multiomics runs, these channels are also included in `{sample_id}_multiplex.ome.tiff`.   

??? tip "ome.tiff compatibility"
    All provided `*.ome.tiff` files can also be loaded into other standard ome.tiff readers, including Fiji, and napari.  
<br>


## metrics
---
### `transcript_core_metrics.csv`
> CSV file containing a set of core metrics for the sample including total transcripts, total area, number of cells and more.

### `protein_core_metrics.csv` [<span class="acc-2-text">:material-layers-outline:</span>]("multiomics runs only")
> CSV file containing core protein metrics for the sample, such as signal-to-noise ratio (SNR), background intensity, and Fisher's exact test scores. Fisher scores assess the co-occurrence of each protein signal with its corresponding transcripts (`<protein>_fisher_score`) and with a random background set (`<protein>_fisher_background_score`). If no protein-gene pairs are present, the value is `unavailable`; if the score cannot be computed, the entry is `NaN`.

### `per_area_metrics.csv`
> CSV file containing a set of metrics for 100&nbsp;Âµm<sup>2</sup> bins across the sample. Values included area identifiers `x/y_bin`, area coordinates `x/y_bin_min_pixel_coordinate`, and total number of transcripts and number of cells for each area.

<br>

## h_and_e
---

### `h_and_e.jp2` & `h_and_e_thumbnail.jpg`
> Raw, full-sized fH&E image and its thumbnail.

### `nuclear.jp2` & `nuclear_thumbnail.png`
> Raw, full-sized nuclear stain image and its thumbnail.

### `cytoplasmic.jp2` & `cytoplasmic_thumbnail.png`
> Raw, full-sized cytoplasmic stain image and its thumbnail.

??? tip "segmentation input"
    The .jp2 images in this and the `protein` folder are suitable to use for both nuclear and cytoplasmic segmentation. For more information on how you might do this, see [segment data](../g4x_tutorials/segment_data.md).

<br>

## protein [<span class="acc-2-text">:material-layers-outline:</span>]("multiomics runs only")
---
### `{protein_name}.jp2` & `{protein_name}_thumbnail.png`
> Raw, full-sized protein detection image and its thumbnail. The values in the [cell_metadata](#cell_metadatacsvgz) and [cell_by_protein](#cell_by_proteincsvgz) tables are derived by applying cell segmentation masks over these protein images.

### `bead_mask.npz`
> Compressed numpy archive containing a boolean bead mask. The mask marks regions where focusing beads were detected and is used to remove signal in those areas.

<br>

## rna
---
### `raw_features.parquet`
> Parquet file containing raw transcript feature information pre-demultiplexing. It lists sequence, coordinates and quality scores of all detected features. This file is required for the [`redemux`](https://docs.singulargenomics.com/G4X-helpers/features/redemux/) feature of G4X-helpers.

??? abstract "Column descriptions"
    | column | dtype | description |
    |-------|-----|----------|
    | `TXUID` | *str* | Unique identifier for the transcript |
    | `x_pixel_coordinate` | *float* | The x-coordinate for the transcript |
    | `y_pixel_coordinate` | *float* | The y-coordinate for the transcript |
    | `z_layer` | *int* | z layer of identified transcript |
    | `confidence_score` | *float* | Mean quality score for the transcript |
    
    
### `transcript_table.csv.gz`
> CSV file listing all successfully demultiplexed transcript features. Includes all columns from `raw_features.parquet`, with additional probe names, gene names, and assigned `cell_id` values for each feature. The values in the [cell_by_transcript](#cell_by_transcriptcsvgz) table are derived by applying cell segmentation masks over these transcripts.

??? abstract "Column descriptions"
    | column | type | description |
    |-------|-----|----------|
    | `x_pixel_coordinate` | *float* | The x coordinate for the transcript|
    | `y_pixel_coordinate` | *float* | The y coordinate for the transcript|
    | `z_level` | *int* | Z layer index of the transcript |
    | `probe_name` | *str* | Probe identifier used for decoding |
    | `gene_name` | *str* | Gene symbol for the decoded probe |
    | `confidence_score` | *float* | Mean quality score for the transcript |
    | `in_nucleus` | *int* | Cell nucleus the transcript is assigned to (0 = not assigned) |
    | `cell_id` | *int* | Cell the transcript is assigned to (0 = not assigned) |

<br>

## segmentation
---
> ### `segmentation_mask.npz`
Compressed numpy array file containing the segmentation mask. This archive holds two arrays: `nuclei` (nuclear segmentation) and `nuclei_exp` (expanded nuclear mask, i.e whole-cell approximation). Label IDs correspond to the `cell_id/label` fields used in [single_cell_data](#single_cell_data).

<br>

## single_cell_data
---
### `cell_metadata.csv.gz`
> CSV file containing the metadata associated with each cell, including cell_id, cell area, transcript counts and protein content if available. This can be used to build single-cell analysis objects (Seurat/Scanpy) and perform downstream analyses. For more information, see [data import](./data_import.md).

??? abstract "Column descriptions"
    | name | type | description |
    |------|-----|----------|
    | `label` | *str* | Unique cell-id derived from segmentation mask |
    | `cell_x/y` | *float* | x/y coordinate of the cell centroid |
    | `nuclei_area` | *int* | Area of the nuclear segmentation |
    | `nuclei_expanded_area` | *int* | Area of the expanded nuclear segmentation |
    | `total_counts` | *int* | Total transcript counts |
    | `log1p_total_counts` | *float* | Log number of total transcripts |
    | `n_genes_by_counts` | *int* | Number of unique genes detected |
    | `log1p_n_genes_by_counts` | *float* | Log number of unique genes detected |
    | `*stain_intensity_mean` | *float* | Mean intensity for nuclear and cytoplasmic stains |
    | `<protein>_intensity_mean` | *float* | Mean intensity for a given protein  [<span class="acc-2-text">:material-layers-outline:</span>]("multiomics runs only")|

### `cell_by_transcript.csv.gz`
> CSV file containing the cell x transcript matrix. Each entry in the table is the counts for a given transcript in a given cell.

### `clustering_umap.csv.gz`
> CSV file containing pre-computed cluster annotations and UMAP coordinates for each cell. 

### `dgex.csv.gz`
> CSV file containing differential gene expression (DGEx) results for the pre-computed clusters from the [clustering_umap](#clustering_umapcsvgz) table.

??? abstract "Column descriptions"
    | column  | type | description  |
    |-------|-----|----------|
    | `names`  | *str* | Gene symbol  |
    | `scores`  | *float* | Z-score from Wilcoxon rank-sum test  |
    | `logfoldchanges`  | *float* | LogFoldChange for the given cluster compared to *all* other clusters combined |
    | `pvals`  | *float* | P-value from Wilcoxon rank-sum test |
    | `pvals_adj`  | *float* | Adjusted P-value  |
    | `pct_nz_group`  | *float* | Percentage of non-zero values in the given cluster.  |
    | `pct_nz_reference`  | *float* | Percentage of non-zero values in all cells outside the given cluster.  |
    | `group`  | *int* | Leiden cluster identity  |
    | `leiden_res`  | *str* | Leiden clustering resolution that this entry is derived from (1 per gene per cluster) |

### `feature_matrix.h5`
> H5 file containing the cell by transcript matrix with cell and transcript metadata. This file can be loaded into Python and used in `scanpy` or a number of other pipelines. See [data import](./data_import.md). The h5.obs table is equivalent to [cell_metadata](#cell_metadatacsvgz)

### `cell_by_protein.csv.gz` [<span class="acc-2-text">:material-layers-outline:</span>]("multiomics runs only")
> CSV file containing cell x protein intensity matrix. Each entry in the table is the average protein intensity for a given protein in a cell.

### `rna_protein_singlecell_correlation.csv` [<span class="acc-2-text">:material-layers-outline:</span>]("multiomics runs only")
> CSV file containing a square correlation matrix between selected transcript counts and protein intensity means, computed per cell. Useful for quickly checking concordance between RNA and protein markers (e.g. `CD4` counts vs `CD4_intensity_mean`).

### `protein_singlecell_correlation.csv` [<span class="acc-2-text">:material-layers-outline:</span>]("multiomics runs only")
> CSV file containing a protein-by-protein correlation matrix of per-cell intensity means, allowing assessment of protein marker co-expression.
 
 <br>
 
## diagnostics
---
> This folder is intentionally left empty.

<br>

 --8<-- "_core/_partials/end_cap.md"

### foot notes
<span class="acc-2-text">:material-layers-outline:</span> This symbol indicates that these files are only available in multiomics runs.
